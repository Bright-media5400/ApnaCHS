<div class="container-fluid">
    <div class="row page-title-div">
        <div class="col-sm-6">
            <h2 class="title">Floor - {{editFormData.name}}</h2>
        </div>
        <div class="col-sm-6 text-right hidden-xs">
            <a href ng-click="onSocietyDashboard()" class="pl-20"><i class="fa fa-arrow-left"></i> Society Dashboard</a>
        </div>
    </div>
</div>

<section class="section pt-n">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="panel border-primary no-border border-3-top">
                    <div class="panel-body p-20">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs border-bottom border-primary" role="tablist">
                            <li role="presentation" class="active"><a class="" target="_self" href="#tab1" aria-controls="profile7" role="tab" data-toggle="tab">Details</a></li>
                            <li role="presentation"><a class="" target="_self" href="#tab2" aria-controls="profile7" role="tab" data-toggle="tab" ng-if="editFormData.type == 1 || editFormData.isEdit">Flats</a></li>
                            <li role="presentation"><a class="" target="_self" href="#tab3" aria-controls="profile7" role="tab" data-toggle="tab" ng-if="editFormData.type == 1 || editFormData.type == 2 || editFormData.isEdit">Parkings</a></li>
                            <li role="presentation"><a class="" target="_self" href="#tab4" aria-controls="profile7" role="tab" data-toggle="tab" ng-if="editFormData.type == 1 || editFormData.type == 3 || editFormData.isEdit">Commercial Spaces</a></li>
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content bg-white p-15">
                            <div role="tabpanel" class="tab-pane active" id="tab1">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">

                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Edit Flat" href ng-click="edit()" ng-if="!formData.isEdit"><i class=" fa fa-edit"></i>Edit</a>

                                        </div>

                                        <!-- /.col-sm-6 -->

                                        <div class="form-horizontal" ng-if="!formData.isEdit">
                                            <div class="form-group">
                                                <label for="name" class="col-xs-2 control-label">Name - </label>
                                                <div class=" col-xs-8 col-md-10 mt-5">
                                                    <span class="sub-title">{{ editFormData.name }}</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="name" class="col-xs-2 control-label">Floor Type - </label>
                                                <div class=" col-xs-8 col-md-10 mt-5">
                                                    <span class="sub-title">{{ floorType.text }}</span>
                                                </div>
                                            </div>
                                        </div>

                                        <form class="form-horizontal" name="userForm" ng-submit="submit()" ng-if="formData.isEdit">
                                            <div class="form-group">
                                                <label for="name" class="col-xs-2 control-label">Name<span class="color-red">*</span></label>
                                                <div class="col-xs-12 col-md-4">
                                                    <input type="text" class="form-control" id="name" placeholder="Name" ng-model="formData.name" required>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="type" class="col-xs-2 control-label">Type<span class="color-red">*</span></label>
                                                <div class="col-xs-12 col-md-4">
                                                    <select class="form-control" id="type" ng-model="formData.type" ng-options="ug.text for ug in FloorTypes" required>
                                                        <option value="">Select a Type</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group col-xs-12 col-md-6 text-center">
                                                <button type="submit" style="margin-right:10px;" class="btn btn-primary" ng-disabled="userForm.$invalid">Update</button>
                                                <button type="button" id="cancelEditFloor" class="btn btn-primary" ng-click="cancelEdit()">Cancel</button>
                                            </div>

                                        </form>

                                    </div>

                                </div>
                            </div>

                            <div role="tabpanel" class="tab-pane " id="tab2" ng-if="editFormData.type == 1">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">
                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Create new flat" href data-toggle="modal" data-target="#newFlatBox"><i class="fa fa-plus"></i>New</a>
                                        </div>
                                        <!-- /.col-sm-6 -->
                                    </div>

                                    <!-- /.row -->
                                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12 margin-bottom" ng-repeat="flat in editFormData.flats | filter : { isCommercialSpace : false } : false">
                                        <a class="dashboard-stat solid-black-1 max-height" href="#/flat/details/{{flat.id}}">
                                            <span class="name">{{ flat.name }}</span>
                                            <span class="name" style="font-size: 0.7em; display: block;">{{ flat.flatType.text }}</span>
                                            <span class="bg-icon"><i class="fa fa-home"></i></span>
                                        </a>
                                    </div>
                                </div>

                            </div>

                            <div role="tabpanel" class="tab-pane" id="tab3" ng-if="editFormData.type == 1 || editFormData.type == 2">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">
                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Create new flat" href data-toggle="modal" data-target="#newFlatParkingBox"><i class="fa fa-plus"></i>New</a>
                                        </div>
                                        <!-- /.col-sm-6 -->
                                    </div>

                                    <!-- /.row -->
                                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12 margin-bottom" ng-repeat="flatParking in editFormData.flatParkings">
                                        <a class="dashboard-stat solid-black-1 max-height" href ng-click="onSelectParking(flatParking,$index)" data-toggle="modal" data-target="#editFlatParkingBox">
                                            <span class="name">{{ flatParking.name }}</span>
                                            <span class="name" style="font-size: 0.7em; display: block;">{{ flatParking.type.text }}</span>
                                            <span class="bg-icon">
                                                <i ng-if="flatParking.type.id == 2" class="fa fa-car"></i>
                                                <i ng-if="flatParking.type.id == 1" class="fa fa-motorcycle"></i>
                                                <i ng-if="flatParking.type.id == 3" class="fa fa-product-hunt"></i>
                                            </span>
                                        </a>
                                    </div>

                                </div>

                            </div>

                            <div role="tabpanel" class="tab-pane" id="tab4" ng-if="editFormData.type == 1 || editFormData.type == 3">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">
                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Create new Commercial Space" href data-toggle="modal" data-target="#newCommercialSpaceBox"><i class="fa fa-plus"></i>New</a>
                                        </div>
                                        <!-- /.col-sm-6 -->
                                    </div>

                                    <!-- /.row -->
                                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12 margin-bottom" ng-repeat="flat in editFormData.flats | filter : { isCommercialSpace : true } : true">
                                        <a class="dashboard-stat solid-black-1 max-height" href="#/flat/details/{{flat.id}}">
                                            <span class="name">{{ flat.name }}</span>
                                            <span class="name" style="font-size: 0.7em; display: block;">{{ flat.flatType.text }}</span>
                                            <span class="bg-icon"><i class="fa fa-university"></i></span>
                                        </a>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- /.col-md-8 -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
</section>
<!-- /.section -->
<!-- /.col-md-6 -->
<div class="modal fade" id="newFlatBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" style="width: 1020px;">
        <div class="modal-content" style="width: 1020px;">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Create new flat<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
            </div>
            <div class="modal-body">
                <new-flat-box floor-id="floorId" society-id="societyId"></new-flat-box>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="newCommercialSpaceBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <new-commercial-space-box floor-id="floorId" society-id="societyId"></new-commercial-space-box>
</div>

<div class="modal fade" id="newFlatParkingBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-body">
        <new-flat-parking-box floor-id="floorId" facility-id="facilityId"></new-flat-parking-box>
        <div class="clearfix"></div>
    </div>
</div>

<div class="modal fade" id="editFlatParkingBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <form class="form-horizontal" name="userForm" ng-submit="submitParking()">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Edit parking<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
                </div>
                <div class="modal-body">


                    <div class="form-group">
                        <label for="name" class="col-xs-3 control-label">Name<span class="color-red">*</span></label>
                        <div class="col-xs-12 col-md-4">
                            <input type="text" class="form-control" id="name" placeholder="Name" ng-model="selectedParking.name" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="type" class="col-xs-6 col-md-3 control-label">Parking Type<span class="color-red">*</span></label>
                        <div class="col-xs-12 col-md-4">
                            <select class="form-control" id="type" ng-model="selectedParking.type" ng-options="ug.text for ug in parkingTypes" required>
                                <option value="">Select a Type</option>
                            </select>
                        </div>
                    </div>

                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button id="cancelEditFlatParkingBox" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" ng-disabled="userForm.$invalid">Update</button>
                    <!--<button type="button" ng-click="addNewFacility()" class="btn btn-primary">Yes</button>-->
                </div>
            </div>
        </form>
    </div>
</div>





