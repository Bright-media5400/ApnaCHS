<div class="container-fluid">
    <div class="row page-title-div">
        <div class="col-sm-6">
            <h2 class="title">Facility - {{editFormData.name}}</h2>
        </div>
        <div class="col-sm-6 text-right hidden-xs">
            <a href ng-click="onSocietyDashboard()" class="pl-20"><i class="fa fa-arrow-left"></i> Society Dashboard</a>
        </div>
    </div>
</div>


<section class="section pt-n">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="panel border-primary no-border border-3-top">
                    <div class="panel-body p-20">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs border-bottom border-primary" role="tablist">
                            <li role="presentation" class="active">
                                <a class="" target="_self" href="#tab1" aria-controls="profile7" role="tab" data-toggle="tab">Details</a>
                            </li>
                            <li role="presentation" ng-if="isFloorVisible">
                                <a class="" target="_self" href="#tab2" aria-controls="profile7" role="tab" data-toggle="tab">Floors</a>
                            </li>
                            <li role="presentation" ng-if="editFormData.isParkingLot">
                                <a class="" target="_self" href="#tab3" aria-controls="profile7" role="tab" data-toggle="tab">Parking</a>
                            </li>
                            <li role="presentation">
                                <a class="" target="_self" href="#tab4" aria-controls="profile7" role="tab" data-toggle="tab">Assets</a>
                            </li>
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content bg-white p-15">

                            <div role="tabpanel" class="tab-pane active" id="tab1">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">

                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Edit Flat" href ng-click="edit()" ng-if="!editFormData.isEdit"><i class=" fa fa-edit"></i>Edit</a>

                                        </div>

                                        <!-- /.col-sm-6 -->

                                        <div class="form-horizontal" ng-if="!editFormData.isEdit">
                                            <div class="form-group">
                                                <label for="name" class="col-xs-4 col-md-2 control-label">Facility Type -</label>
                                                <div class="col-xs-8 col-md-10 mt-5">
                                                    <span class="sub-title">{{ facilityType.text }}</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="name" class="col-xs-4 col-md-2 control-label">Name -</label>
                                                <div class="col-xs-8 col-md-10 mt-5">
                                                    <span class="sub-title">{{ editFormData.name }}</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="name" class="col-xs-4 col-md-2 control-label">Wing - </label>
                                                <div class="col-xs-8 col-md-10 mt-5">
                                                    <span class="sub-title">{{ editFormData.wing }}</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="name" class="col-xs-4 col-md-2 control-label">No Of Floors - </label>
                                                <div class="col-xs-8 col-md-10 mt-5">
                                                    <span class="sub-title">{{ editFormData.noOfFloors }}</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="name" class="col-xs-4 col-md-2 control-label">No Of Flats - </label>
                                                <div class="col-xs-8 col-md-10 mt-5">
                                                    <span class="sub-title">{{ editFormData.noOfFlats }}</span>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div ng-if="editFormData.type != 1">
                                                    <label for="" class="col-xs-2 control-label">Link Societies - </label>
                                                    <div class="col-xs-8 col-md-10 mt-5">
                                                        <button type="button" title="Link Societies" class="btn btn-success icon-only" ng-click="onLinkSociety()"
                                                                data-toggle="modal" data-target="#linkSocietyBox">
                                                            <i class="fa fa-scribd"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div ng-if="editFormData.societies.length > 0">
                                                    <label for="name" class="col-xs-2 control-label">Linked Societies - </label>
                                                    <div class="col-xs-8 col-md-10 mt-5">
                                                        <button type="button" title="" class="btn icon-only btn-secondary" style="margin-left:2px;"
                                                                ng-click=""
                                                                ng-repeat="soc in editFormData.societies" data-toggle="modal" data-target="">
                                                            <i class="fa fa-scribd"></i> {{ soc.society.name }}
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>


                                        <form class="form-horizontal" name="userForm" ng-submit="submit()" ng-if="editFormData.isEdit">
                                            <div class="form-group">
                                                <label for="name" class="col-xs-4 col-md-2 control-label">Facility Type -</label>
                                                <div class="col-xs-12 col-md-4">
                                                    <input type="text" class="form-control" id="name" placeholder="Name" ng-model="facilityType.text" required>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="name" class="col-xs-2 control-label">Name<span class="color-red">*</span></label>
                                                <div class="col-xs-12 col-md-4">
                                                    <input type="text" class="form-control" id="name" placeholder="Name" ng-model="editFormData.name" required>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="wing" class="col-xs-2 control-label">Wing<span class="color-red">*</span></label>
                                                <div class="col-xs-12 col-md-4">
                                                    <input type="text" class="form-control" id="wing" placeholder="Wing" ng-model="editFormData.wing" required>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="noOfFloors" class="col-xs-2 control-label">No Of Floors<span class="color-red">*</span></label>
                                                <div class="col-xs-12 col-md-4">
                                                    <input type="text" class="form-control" id="noOfFloors" placeholder="No Of Floors" ng-model="editFormData.noOfFloors">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="noOfFlats" class="col-xs-2 control-label">No Of Flats<span class="color-red">*</span></label>
                                                <div class="col-xs-12 col-md-4">
                                                    <input type="text" class="form-control" id="noOfFlats" placeholder="No Of Flats" ng-model="editFormData.noOfFlats">
                                                </div>
                                            </div>

                                            <div class="form-group col-xs-12 col-md-6 text-center">
                                                <button type="submit" style="margin-right:10px;" class="btn btn-primary" ng-disabled="userForm.$invalid">Update</button>
                                                <button type="submit" class="btn btn-primary" ng-click="cancelEdit()">Cancel</button>
                                            </div>

                                        </form>

                                    </div>

                                </div>
                            </div>

                            <div role="tabpanel" class="tab-pane" id="tab2" ng-if="isFloorVisible">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">
                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Create new floor" href ng-click="onNewClick()"><i class="fa fa-plus"></i>New</a>
                                        </div>
                                        <!-- /.col-sm-6 -->
                                    </div>

                                    <!-- /.row -->
                                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12 margin-bottom" ng-repeat="floor in editFormData.floors" ng-if="!newFloorClick">
                                        <a class="dashboard-stat solid-black-1 max-height" href="#floor/details/{{floor.id}}">
                                            <span class="name">{{ floor.name }}</span>
                                            <span class="name" style="font-size: 0.7em; display: block;">{{ floor.floorType.text }}</span>
                                            <span class="bg-icon" ng-if="floor.floorType.text != 'Parking'"><i class="fa fa-list"></i></span>
                                            <span class="bg-icon" ng-if="floor.floorType.text == 'Parking'"><i class="fa fa-car"></i></span>
                                        </a>
                                    </div>

                                    <div class="form-group" ng-if="errormsg">
                                        <span class="color-red">{{ errormsg }}</span>
                                    </div>

                                    <form class="form-horizontal" name="floorForm" ng-submit="createMultipleFloors()" ng-if="newFloorClick">

                                        <div class="panel-heading">
                                            <div class="panel-title">
                                                <h5>Create new floor(s)</h5>
                                            </div>
                                        </div>

                                        <div class="panel-body">
                                            <div class="form-group">
                                                <label for="noofloors" class="col-xs-4 col-md-2 control-label">No. Of Floors<span class="color-red">*</span></label>
                                                <div class="col-xs-12 col-md-3">
                                                    <div class="input-group" style="z-index: 3;">
                                                        <input type="number" class="form-control" id="noofloors" title="No. Of Floors" min="1"
                                                               placeholder="No. Of Floors" ng-model="floorFormData.totalFloors" required>

                                                        <span class="input-group-addon bg-success" ng-if="floorFormData.totalFloors > 0" ng-click="onFloorsChanged()">
                                                            <i class="fa fa-plus" title="Add Floors" ng-click="onFloorsChanged()"></i>
                                                        </span>

                                                    </div>
                                                </div>

                                                <div class="col-xs-12 col-md-3">
                                                    <label class="control-label" ng-if="editFormData.floors.length == 0">Total Floors Allowed - <span class="color-red">Ground + {{ editFormData.noOfFloors }}</span></label>
                                                    <label class="control-label" ng-if="editFormData.floors.length > 0">Remaining Floors Allowed - <span class="color-red">{{ 1 + editFormData.noOfFloors - editFormData.floors.length }}</span></label>
                                                </div>

                                                <div class="col-xs-12 col-md-3">
                                                    <label class="control-label">Total Flats Allowed - <span class="color-red">{{ editFormData.noOfFlats - totalFlatsInFacility }}</span></label>
                                                </div>
                                            </div>

                                            <div class="table-responsive">
                                                <table class="table table-striped table-bordered">
                                                    <thead class="bg-primary">
                                                        <tr>
                                                            <th class="text-center">#</th>
                                                            <th class="text-center">Floor Type<span class="color-red">*</span></th>
                                                            <th class="text-center">Name<span class="color-red">*</span></th>
                                                            <th class="text-center">#Flats<span class="color-red">*</span></th>
                                                            <th class="text-center">#Commercial Spaces<span class="color-red">*</span></th>
                                                            <th class="text-center">#Parkings<span class="color-red">*</span></th>
                                                            <th class="text-center">Action</th>
                                                            <!--<th class="text-center">#Allocated Parkings</th>-->
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="item in floorList">
                                                            <td class="text-center" scope="row">{{ item.floorNumber }}</td>
                                                            <td>
                                                                <select style="width:200px;" class="form-control" ng-model="item.type"
                                                                        ng-options="ug.text for ug in FloorTypes" required ng-change="onFloorTypeChange(item)"></select>
                                                            </td>
                                                            <td>
                                                                <input type="text" title="Floor Name" class="form-control" placeholder="Floor Name" ng-model="item.name" required>
                                                            </td>
                                                            <td>
                                                                <div class="input-group" style="z-index: 3;" ng-if="item.type.id == 1">
                                                                    <input type="number" title="No of flats" class="form-control noscroll" min="0"
                                                                           placeholder="No of flats" ng-model="item.flats" ng-change="onFlatsChanged(item)" required>


                                                                    <span class="input-group-addon" ng-if="item.flats > 0" data-toggle="modal" data-target="#configureFlats" ng-click="onFlatsOpened(item,$index)">
                                                                        <i class="fa fa-building" title="Add flats"></i>
                                                                    </span>
                                                                </div>

                                                            </td>
                                                            <td>
                                                                <div class="input-group" style="z-index: 3;" ng-if="item.type.id == 1 || item.type.id == 3">
                                                                    <input type="number" title="No of commercial spaces" class="form-control noscroll" min="0"
                                                                           placeholder="No of  commercial spaces" ng-model="item.commercialspaces" ng-change="onCommercialSpacesChanged(item)" required>


                                                                    <span class="input-group-addon" ng-if="item.commercialspaces > 0" data-toggle="modal" ng-click="onCommercialSpacesOpened(item,$index)" data-target="#configureCommercialSpaces">
                                                                        <i class="fa fa-building" title="Add  commercial spaces"></i>
                                                                    </span>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="input-group" style="z-index: 3;" ng-if="item.type.id == 1 || item.type.id == 2">
                                                                    <input type="number" title="No of parkings" class="form-control noscroll" min="0"
                                                                           placeholder="No of parkings" ng-model="item.parkings" ng-change="onParkingsChanged(item)" required>


                                                                    <span class="input-group-addon" ng-if="item.parkings > 0" data-toggle="modal" data-target="#configureParkings" ng-click="onParkingsOpened(item,$index)">
                                                                        <i class="fa fa-building" title="Add parkings"></i>
                                                                    </span>
                                                                </div>

                                                            </td>
                                                            <!--<td><input type="number" style="width:50px;" class="form-control" ng-model="item.noOfParkinglots" /></td>-->
                                                            <td class="text-center">
                                                                <button type="button" title="Copy previous floor configuration" class="btn btn-default icon-only" ng-click="copyFloor($index)" ng-if="$index != 0">
                                                                    <i class="fa fa-copy"></i>
                                                                </button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div class="form-group text-right">
                                                <button id="cancelNewFloorBox" type="button" class="btn btn-default" ng-click="onCancelNewFloorBox()">Cancel</button>
                                                <button type="submit" class="btn btn-primary">Create</button>
                                            </div>
                                        </div>

                                    </form>

                                </div>
                            </div>

                            <div role="tabpanel" class="tab-pane" id="tab3" ng-if="editFormData.isParkingLot">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">
                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Create new flat" href data-toggle="modal" data-target="#newFlatParkingBox"><i class="fa fa-plus"></i>New</a>
                                        </div>
                                        <!-- /.col-sm-6 -->
                                    </div>

                                    <!-- /.row -->
                                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12 margin-bottom" ng-repeat="flatParking in editFormData.flatParkings">
                                        <a class="dashboard-stat solid-black-1 max-height" href ng-click="onSelectParking(flatParking,$index)" data-toggle="modal" data-target="#editFlatParkingBox">
                                            <span class="name">{{ flatParking.name }}</span>
                                            <span class="name" style="font-size: 0.7em; display: block;">{{ flatParking.type.text }}</span>
                                            <span class="bg-icon">
                                                <i ng-if="flatParking.type.id == 2" class="fa fa-car"></i>
                                                <i ng-if="flatParking.type.id == 1" class="fa fa-motorcycle"></i>
                                                <i ng-if="flatParking.type.id == 3" class="fa fa-product-hunt"></i>
                                            </span>
                                        </a>
                                    </div>
                                </div>

                            </div>

                            <div role="tabpanel" class="tab-pane" id="tab4">

                                <div class="row">
                                    <!-- /.row -->
                                    <div class="row breadcrumb-div margin-bottom">
                                        <div class="col-sm-6">

                                        </div>
                                        <!-- /.col-sm-6 -->
                                        <div class="col-sm-6 text-right hidden-xs">
                                            <a title="Back" ng-click="onBackClick()" href style="margin-right:10px;"><i class="fa fa-arrow-left"></i>Back</a>
                                            <a title="Create new Asset" href data-toggle="modal" data-target="#newAssetBox"><i class="fa fa-plus"></i>New</a>
                                        </div>
                                        <!-- /.col-sm-6 -->
                                    </div>

                                    <!-- /.row -->
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered">
                                            <!--<caption>Lista de usuarios.</caption>-->
                                            <thead class="bg-primary">
                                                <tr>
                                                    <!--<th class="text-center">#ID</th>-->
                                                    <th class="text-center">Name</th>
                                                    <th class="text-center">Company</th>
                                                    <th class="text-center">Brand</th>
                                                    <th class="text-center">Model&nbsp;No</th>
                                                    <th class="text-center">Sr&nbsp;No</th>
                                                    <th class="text-center">Purchase&nbsp;Date</th>
                                                    <th class="text-center">Contact&nbsp;Person</th>
                                                    <th class="text-center">customer&nbsp;Care</th>
                                                    <th class="text-center">Is&nbsp;Usable</th>
                                                    <th class="text-center">Is&nbsp;Operational</th>
                                                    <th class="text-center">Quantity</th>
                                                    <th class="text-center" style="padding-right: 37px;">Actions</th>
                                                </tr>
                                            </thead>


                                            <tbody>
                                                <tr ng-repeat="item in recordList">
                                                    <!--<th>{{ item.id }}</th>-->
                                                    <td>{{ item.name }}</td>
                                                    <td>{{ item.companyName }}</td>
                                                    <td>{{ item.brand }}</td>
                                                    <td>{{ item.modelNo }}</td>
                                                    <td>{{ item.srNo }}</td>
                                                    <td>{{ item.purchaseDate | date : 'dd/MM/yyyy' }}</
td>
                                                    </td>
                                                    </
                                                    <td>{{ item.contactPerson }}</td>
                                                    <td>{{ item.customerCareNo }}</td>
                                                    <td>
                                                        {{ item.isUsable ? 'Yes' : 'No' }}</
                                                        td>
                                                    </td>
                                                    </
                                                    <td>{{ item.isOperational ? 'Yes' : 'No' }}</td>
                                                    <td>{{ item.quantity }}</td>
                                                    <td class="text-center">
                                                        <button type="button" title="View" class="btn btn-success icon-only" ng-click="editAsset(item)"
                                                                data-toggle="modal" data-target="#editAssetBox">
                                                            <i class="fa fa-pencil"></i>
                                                        </button>
                                                        to
                                                        <button type="button" title="Delete" class="btn btn-danger icon-only" ng-click="onDelete(item, $index)"
                                                                data-toggle="modal" data-target="#confirmDelete">
                                                            <i class="fa fa-trash-o"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- /.col-md-8 -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
</section>
<!-- /.section -->

<div class="modal fade" id="confirmDelete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Confirm Delete<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
            </div>
            <div class="modal-body">
                Do you want to delete Assets - '<strong>{{selectedItem.name}}</strong>'?
            </div>
            <div class="modal-footer">
                <button id="cancelConfirmDelete" type="button" class="btn btn-default" data-dismiss="modal">No</button>
                <button type="button" ng-click="delete()" class="btn btn-primary">Yes</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="newFlatParkingBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <new-flat-parking-box floor-id="floorId" facility-id="facilityId"></new-flat-parking-box>
</div>

<div class="modal fade" id="editFlatParkingBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <form class="form-horizontal" name="userForm" ng-submit="submitParking()">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Edit parking<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="name" class="col-xs-3 control-label">Name<span class="color-red">*</span></label>
                        <div class="col-xs-12 col-md-4">
                            <input type="text" class="form-control" id="name" placeholder="Name" ng-model="selectedParking.name" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="type" class="col-xs-6 col-md-3 control-label">Parking Type<span class="color-red">*</span></label>
                        <div class="col-xs-12 col-md-4">
                            <select class="form-control" id="type" ng-model="selectedParking.type" ng-options="ug.text for ug in parkingTypes" required>
                                <option value="">Select a Type</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group col-xs-3 col-md-4 text-center">

                    </div>

                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button id="cancelEditFlatParkingBox" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" ng-disabled="userForm.$invalid">Update</button>
                    <!--<button type="button" ng-click="addNewFacility()" class="btn btn-primary">Yes</button>-->
                </div>
            </div>
        </form>
    </div>
</div>

<div class="modal fade" id="linkSocietyBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width:768px;">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Link societies to facility - {{ editFormData.name }}<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
            </div>
            <div class="modal-body">


                <div class="col-md-12">


                    <div ng-if="societyList.length > 0">

                        <div class="panel bg-gray">
                            <div class="panel-body">
                                <button type="button" title="" class="btn icon-only" ng-class="{ 'btn-default' : !society.selected, 'btn-success' : society.selected }"
                                        ng-click="toggleSocietySelection(society)" ng-repeat="society in societyList" style="margin-left:2px;width: 125px;">
                                    <i class="fa fa-scribd"></i> {{ society.name }}
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- /.col-md-12 -->


                <div class="clearfix"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" ng-click="updateSocieties()">Link</button>
                <button id="cancelLinkSocietiesBox" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="newAssetBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" style="width: 1020px;">
        <div class="modal-content" style="width: 1020px;">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Enter new Asset<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
            </div>
            <div class="modal-body">
                <new-asset-box floor-id="floorId" facility-id="facilityId" society-id="societyId"></new-asset-box>
                <div class="clearfix"></div>
            </div>
            <!--<div class="modal-footer">
                <button id="cancelNewSecuritystaffBox" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" ng-click="addNewFacility()" class="btn btn-primary">Yes</button>
            </div>-->
        </div>
    </div>
</div>

<div class="modal fade" id="editAssetBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" style="width: 1020px;">
        <form class="form-horizontal" name="assetForm" ng-submit="submitAsset()" style="width: 1020px;">
            <div class="modal-content" style="width: 1020px;">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Update Asset<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
                </div>
                <div class="modal-body">

                    <div class="form-group">
                        <label for="quantity" class="col-xs-2 control-label">Quantity<span class="color-red">*</span></label>
                        <div class="col-xs-12 col-md-3">
                            <input type="number" min="1" class="form-control" id="quantity" placeholder="Quantity" ng-model="editSocietyAsset.quantity" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="name" class="col-xs-2 control-label">Name<span class="color-red">*</span></label>
                        <div class="col-xs-12 col-md-3">
                            <input type="text" class="form-control" id="name" placeholder="Name" ng-model="editSocietyAsset.name" required>
                        </div>

                        <label for="companyName" class="col-xs-2 control-label">Company Name</label>
                        <div class="col-xs-12 col-md-3">
                            <input type="text" class="form-control" id="companyName" placeholder="Company Name" ng-model="editSocietyAsset.companyName">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="brand" class="col-xs-2 control-label">Brand</label>
                        <div class="col-xs-12 col-md-3">
                            <input type="text" class="form-control" id="brand" placeholder="Brand" ng-model="editSocietyAsset.brand">
                        </div>

                        <label for="purchaseDate" class="col-xs-2 control-label">Purchase Date</label>
                        <div class="col-xs-12 col-md-3">
                            <input type="date" max="{{ todayDate | date:'yyyy-MM-dd' }}" data-date-format="dd/MM/yyyy" class="form-control" id="purchaseDate" placeholder="Purchase Date" ng-model="editSocietyAsset.purchaseDate">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="modelNo" class="col-xs-2 control-label">Model No</label>
                        <div class="col-xs-12 col-md-3">
                            <input type="text" class="form-control" id="modelNo" placeholder="Model No" ng-model="editSocietyAsset.modelNo" number-field>
                        </div>

                        <label for="srNo" class="col-xs-2 control-label">Sr No</label>
                        <div class="col-xs-12 col-md-3">
                            <input type="text" class="form-control" id="srNo" placeholder="Sr No" ng-model="editSocietyAsset.srNo">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="contactPerson" class="col-xs-2 control-label">Contact Person</label>
                        <div class="col-xs-12 col-md-3">
                            <input type="text" class="form-control" id="contactPerson" placeholder="Contact Person" ng-model="editSocietyAsset.contactPerson">
                        </div>

                        <label for="customerCareNo" class="col-xs-2 control-label">Customer Care No</label>
                        <div class="col-xs-12 col-md-3">
                            <input type="text" class="form-control" id="customerCareNo" placeholder="Customer Care No" ng-model="editSocietyAsset.customerCareNo" number-field>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="isUsable" class="col-xs-2 control-label">Is Usable</label>
                        <div class="col-xs-12 col-md-3" style="padding-top: 8px;">
                            <input type="checkbox" id="isUsable" title=""
                                   placeholder="" ng-model="editSocietyAsset.isUsable">
                        </div>

                        <label for="isOperational" class="col-xs-2 control-label">Is Operational</label>
                        <div class="col-xs-12 col-md-3" style="padding-top: 8px;">
                            <input type="checkbox" id="isOperational" title=""
                                   placeholder="" ng-model="editSocietyAsset.isOperational">
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button id="cancelAssetBox" type="button" class="btn btn-default" data-dismiss="modal" ng-click="cancelEdit()">Cancel</button>
                    <button type="submit" class="btn btn-primary" ng-disabled=" assetForm.$invalid">Update</button>
                    <!--<button type="button" ng-click="addNewFacility()" class="btn btn-primary">Yes</button>-->
                </div>
            </div>
        </form>
    </div>
</div>



<div class="modal fade" id="configureFlats" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <form ng-submit="validateConfigureFlats(selectedFloor)">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Configure Flats for Floor - {{selectedFloor.name }}<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
                </div>
                <div class="modal-body">

                    <div class="form-group text-right">
                        <button type="button" class="btn btn-primary" ng-click="onAddConfigureFlats(selectedFloor)">Add</button>
                    </div>

                    <div class="form-group">
                        <span class="color-red" ng-if="!selectedFloor.valid">Flats entered dont match total flats</span>
                    </div>

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="bg-primary">
                                <tr>
                                    <th class="text-center">No of Flats</th>
                                    <th class="text-center">Flat Type</th>
                                    <th class="text-center">Total Area</th>
                                    <th class="text-center">Build-Up Area</th>
                                    <th class="text-center">Carpet Area</th>
                                    <th class="text-center">Have Separate Parking</th>
                                    <th class="text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="flat in selectedFloor.flatList">
                                    <td>
                                        <input type="number" min="1" class="form-control" title="No of Flats"
                                               placeholder="No of Flats" ng-model="flat.noOfFlats" required>
                                    </td>
                                    <td>
                                        <select class="form-control" ng-model="flat.flatTypeId" ng-options="ug.text for ug in flatTypes" required>
                                            <option value="">Select a Type</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="number" min="1" class="form-control" title="Total Area in sqft"
                                               placeholder="Total Area in sqft" ng-model="flat.totalArea" required>
                                    </td>
                                    <td>
                                        <input type="number" min="1" class="form-control" title="Build-Up Area in sqft"
                                               placeholder="Build-Up Area in sqft" ng-model="flat.buildUpArea">
                                    </td>
                                    <td>
                                        <input type="number" min="1" class="form-control" title="Carpet Area in sqft"
                                               placeholder="Carpet Area in sqft" ng-model="flat.carpetArea" required>
                                    </td>
                                    <td>
                                        <input type="checkbox" title="Have Parking"
                                               placeholder="Have Parking" ng-model="flat.haveParking">Have Separate Parking
                                    </td>
                                    <td class="text-center">
                                        <button type="button" title="Delete" class="btn btn-danger icon-only" ng-click="onDeleteConfigureFlats(selectedFloor, $index)">
                                            <i class="fa fa-trash-o"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="modal-footer">
                    <button id="cancelConfigureFlats" type="button" class="btn btn-default" data-dismiss="modal" ng-click="onCancelConfigureFlats(selectedFloor)">Cancel</button>
                    <button type="submit" class="btn btn-primary">Done</button>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="modal fade" id="configureCommercialSpaces" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <form ng-submit="validateConfigureCommercialSpaces(selectedFloor)">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Configure Commercial Spaces for Floor - {{selectedFloor.name }}<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></h4>
                </div>
                <div class="modal-body">

                    <div class="form-group text-right">
                        <button type="button" class="btn btn-primary" ng-click="onAddConfigureCommercialSpaces(selectedFloor)">Add</button>
                    </div>

                    <div class="form-group">
                        <span class="color-red" ng-if="!selectedFloor.valid">Commercial Spaces entered dont match total commercial spaces</span>
                    </div>

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="bg-primary">
                                <tr>
                                    <th class="text-center">No of Flats</th>
                                    <th class="text-center">Flat Type</th>
                                    <th class="text-center">Total Area</th>
                                    <th class="text-center">Build-Up Area</th>
                                    <th class="text-center">Carpet Area</th>
                                    <th class="text-center">Have Separate Parking</th>
                                    <th class="text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="flat in selectedFloor.commercialspaceList">
                                    <td>
                                        <input type="number" min="1" class="form-control" title="No of Flats"
                                               placeholder="No of Flats" ng-model="flat.noOfFlats" required>
                                    </td>
                                    <td>
                                        <select class="form-control" ng-model="flat.flatTypeId" ng-options="ug.text for ug in flatTypes" required>
                                            <option value="">Select a Type</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="number" min="1" class="form-control" title="Total Area in sqft"
                                               placeholder="Total Area in sqft" ng-model="flat.totalArea" required>
                                    </td>
                                    <td>
                                        <input type="number" min="1" class="form-control" title="Build-Up Area in sqft"
                                               placeholder="Build-Up Area in sqft" ng-model="flat.buildUpArea">
                                    </td>
                                    <td>
                                        <input type="number" min="1" class="form-control" title="Carpet Area in sqft"
                                               placeholder="Carpet Area in sqft" ng-model="flat.carpetArea" required>
                                    </td>
                                    <td>
                                        <input type="checkbox" title="Have Parking"
                                               placeholder="Have Parking" ng-model="flat.haveParking">Have Separate Parking
                                    </td>
                                    <td class="text-center">
                                        <button type="button" title="Delete" class="btn btn-danger icon-only" ng-click="onDeleteConfigureCommercialSpaces(selectedFloor, $index)">
                                            <i class="fa fa-trash-o"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="modal-footer">
                    <button id="cancelConfigureCommercialSpaces" type="button" class="btn btn-default" data-dismiss="modal" ng-click="onCancelConfigureCommercialSpaces(selectedFloor)">Cancel</button>
                    <button type="submit" class="btn btn-primary">Done</button>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="modal fade" id="configureParkings" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <form ng-submit="validateParkings(selectedFloor)">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">
                        Configure Parkings for Floor - {{selectedFloor.name }}
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </h4>
                </div>
                <div class="modal-body">

                    <div class="form-group text-right">
                        <button type="button" class="btn btn-primary" ng-click="onAddConfigureParkings(selectedFloor)">Add</button>
                    </div>

                    <div class="form-group">
                        <span class="color-red" ng-if="!selectedFloor.valid">Parkings entered dont match total parkings</span>
                    </div>

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="bg-primary">
                                <tr>
                                    <th class="text-center">No of Parkings</th>
                                    <th class="text-center">Parking Type</th>
                                    <th class="text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="flat in selectedFloor.parkingList">
                                    <td>
                                        <input type="number" min="1" class="form-control" title="No of Parkings"
                                               placeholder="No of parkings" ng-model="flat.noofparkings" required>
                                    </td>
                                    <td>
                                        <select class="form-control" ng-model="flat.type" ng-options="ug.text for ug in parkingTypes" required>
                                            <option value="">Select a Type</option>
                                        </select>
                                    </td>
                                    <td class="text-center">
                                        <button type="button" title="Delete" class="btn btn-danger icon-only" ng-click="onDeleteConfigureParkings(selectedFloor, $index)">
                                            <i class="fa fa-trash-o"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="modal-footer">
                    <button id="cancelConfigureParkings" type="button" class="btn btn-default" data-dismiss="modal" ng-click="onCancelConfigureParkings(selectedFloor)">Cancel</button>
                    <button type="submit" class="btn btn-primary">Done</button>
                </div>
            </div>
        </div>
    </form>
</div>